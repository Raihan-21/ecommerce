<%- include('partials/header'); -%>
<div class="container contact-page">
    <form action="" class="contactform">
        <h2>Tell us your problem!</h2>
        <label for="name">Nama Lengkap</label>
        <input type="text" name="name" required>
        <label for="email">Email</label>
        <input name="email" required>
        <label for="nomor">Nomor Handphone</label>
        <input type="text" name="nomor" required>
        <label for="details">Details:</label>
        <textarea name="details" id="" style="width: 100%;" rows="10"></textarea>
        <button type="submit">Submit</button>
    </form>
</div>

<script>
    const container = document.querySelector('.container')
    const contactform = document.querySelector('.contactform')
    contactform.addEventListener('submit', async function(e){
        e.preventDefault()
        const name = contactform.name.value
        const email = contactform.email.value
        const nomor = contactform.nomor.value
        const details = contactform.details.value
        const res = await fetch('/contact', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({name, email, nomor, details})
        })
        const data = await res.json()
        container.innerHTML = `<h2>${data.status}</h2>`
    })
</script>